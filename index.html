<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="ITOQ Space - –∫–∞—Ç–∞–ª–æ–≥ Telegram –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>ITOQ Space</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        background-color: var(--tg-theme-bg-color, #fff);
        color: var(--tg-theme-text-color, #000);
      }
      
      .header {
        background-color: var(--tg-theme-button-color, #008aee);
        color: var(--tg-theme-button-text-color, #fff);
        padding: 16px;
        text-align: center;
      }
      
      .categories {
        padding: 8px;
        display: flex;
        overflow-x: auto;
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      
      .categories::-webkit-scrollbar {
        display: none;
      }
      
      .category {
        margin-right: 8px;
        padding: 8px 16px;
        background-color: var(--tg-theme-secondary-bg-color, #f0f0f0);
        color: var(--tg-theme-text-color, #000);
        border: none;
        border-radius: 20px;
        white-space: nowrap;
        font-size: 14px;
      }
      
      .category.active {
        background-color: var(--tg-theme-button-color, #008aee);
        color: var(--tg-theme-button-text-color, #fff);
      }
      
      .app-list {
        padding: 16px;
      }
      
      .app-card {
        display: flex;
        border: 1px solid rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 16px;
      }
      
      .app-icon {
        width: 48px;
        height: 48px;
        background-color: var(--tg-theme-button-color, #008aee);
        color: var(--tg-theme-button-text-color, #fff);
        border-radius: 8px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 24px;
        margin-right: 16px;
        flex-shrink: 0;
      }
      
      .app-details {
        flex: 1;
      }
      
      .app-name {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 4px;
      }
      
      .app-description {
        font-size: 14px;
        color: var(--tg-theme-hint-color, #999);
        margin-bottom: 8px;
      }
      
      .tags {
        display: flex;
        flex-wrap: wrap;
        margin-bottom: 12px;
      }
      
      .tag {
        background-color: var(--tg-theme-secondary-bg-color, #f0f0f0);
        color: var(--tg-theme-text-color, #000);
        font-size: 12px;
        border-radius: 12px;
        padding: 2px 8px;
        margin-right: 4px;
        margin-bottom: 4px;
      }
      
      .open-button {
        background-color: var(--tg-theme-button-color, #008aee);
        color: var(--tg-theme-button-text-color, #fff);
        font-size: 14px;
        border: none;
        border-radius: 4px;
        padding: 4px 12px;
        cursor: pointer;
      }
      
      .spinner {
        width: 48px;
        height: 48px;
        border: 2px solid rgba(0, 0, 0, 0.1);
        border-top-color: var(--tg-theme-button-color, #008aee);
        border-radius: 50%;
        animation: spinner 1s ease-in-out infinite;
        margin: 48px auto;
      }
      
      @keyframes spinner {
        to {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root">
      <header class="header">
        <h1>ITOQ Space</h1>
      </header>
      
      <div class="categories">
        <button class="category active" data-id="all">üì± –í—Å–µ</button>
        <button class="category" data-id="bots">ü§ñ –ë–æ—Ç—ã</button>
        <button class="category" data-id="channels">üì¢ –ö–∞–Ω–∞–ª—ã</button>
        <button class="category" data-id="apps">üì≤ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è</button>
      </div>
      
      <div class="app-list" id="app-list">
        <div class="spinner"></div>
      </div>
    </div>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
      // Initialize Telegram WebApp
      if (window.Telegram && window.Telegram.WebApp) {
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();
        
        console.log('Telegram WebApp initialized');
        console.log('Platform:', tg.platform);
        console.log('Theme params:', tg.themeParams);
      }
      
      // Sample data
      const apps = [
        {
          id: "1",
          name: "TelegramBot Builder",
          description: "–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –±–æ—Ç–æ–≤ –±–µ–∑ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è",
          icon: "ü§ñ",
          category: "bots",
          tags: ["–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä", "–ë–µ–∑ –∫–æ–¥–∞", "AI"],
          telegramLink: "https://t.me/BotFather"
        },
        {
          id: "2",
          name: "InfoChannel",
          description: "–ù–æ–≤–æ—Å—Ç–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ IT –∏–Ω–¥—É—Å—Ç—Ä–∏–∏",
          icon: "üì¢",
          category: "channels",
          tags: ["–ù–æ–≤–æ—Å—Ç–∏", "IT", "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"],
          telegramLink: "https://t.me/channel"
        },
        {
          id: "3",
          name: "MiniApp Creator",
          description: "–°–æ–∑–¥–∞–Ω–∏–µ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è Telegram",
          icon: "üì±",
          category: "apps",
          tags: ["–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞", "WebApps", "Telegram"],
          telegramLink: "https://t.me/miniappcreator"
        }
      ];
      
      // Filter apps by category
      function filterApps(category) {
        return category === 'all' 
          ? apps 
          : apps.filter(app => app.category === category);
      }
      
      // Render app list
      function renderApps(category) {
        const appList = document.getElementById('app-list');
        const filteredApps = filterApps(category);
        
        appList.innerHTML = '';
        
        filteredApps.forEach(app => {
          const appCard = document.createElement('div');
          appCard.className = 'app-card';
          appCard.setAttribute('data-id', app.id);
          
          appCard.innerHTML = `
            <div class="app-icon">${app.icon}</div>
            <div class="app-details">
              <h3 class="app-name">${app.name}</h3>
              <p class="app-description">${app.description}</p>
              <div class="tags">
                ${app.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
              </div>
              <button class="open-button" data-link="${app.telegramLink}">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
          `;
          
          appList.appendChild(appCard);
        });
        
        // Add event listeners to open buttons
        document.querySelectorAll('.open-button').forEach(button => {
          button.addEventListener('click', (e) => {
            e.stopPropagation();
            window.open(button.getAttribute('data-link'), '_blank');
          });
        });
        
        // Add event listeners to app cards
        document.querySelectorAll('.app-card').forEach(card => {
          card.addEventListener('click', () => {
            const appId = card.getAttribute('data-id');
            // In a real app, you would navigate to app details
            console.log('Navigate to app details:', appId);
          });
        });
      }
      
      // Initialize
      document.addEventListener('DOMContentLoaded', () => {
        // Render initial apps
        setTimeout(() => {
          renderApps('all');
        }, 500);
        
        // Set up category buttons
        document.querySelectorAll('.category').forEach(button => {
          button.addEventListener('click', () => {
            // Update active button
            document.querySelector('.category.active').classList.remove('active');
            button.classList.add('active');
            
            // Render filtered apps
            renderApps(button.getAttribute('data-id'));
          });
        });
      });
    </script>
  </body>
</html>
